<!--
  Generated template for the MySubscriptionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      <div class="home_title_logo">
        <img src="assets/imgs/logo.png" width="45px" style="display:inline-block" height="45px" />
      </div>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  
  <p>My Subscription</p>
  <ion-list *ngIf="data" radio-group [(ngModel)]="subscription_id">
    <div *ngFor="let subs of data; let key = index">
      <!--<ion-checkbox [(ngModel)]="subs.subscription_id" name="subscription_id" *ngIf="subs.status == 'Expire'" slot="end"></ion-checkbox>-->
      <ion-radio value="{{ key }}" name="subscription_id" *ngIf="subs.status == 'Expire'"></ion-radio>
      <div>
        <div>Category: {{subs.cat_name}}</div>
        <div>
          <p class="date_style">Start Date: {{subs.start_date}}</p>
          <p class="date_style">End Date: {{subs.end_date}}</p>
        </div>
      </div>

      <div class="price">
        <p>{{ currency }}{{subs.price}}</p>
      </div>
      <p ion-button color="secondary" *ngIf="subs.status == 'Active'">{{ subs.status }}</p>
      <p ion-button color="primary" *ngIf="subs.status == 'Expire'">{{ subs.status }}</p>
    </div>
  </ion-list>

  <div>
    <button ion-button color="primary" *ngIf="data" [disabled]="!subscription_id" (click)="renewPlan(subscription_id)">Renew</button>
    <button ion-button color="secondary" (click)="goToSubscriptionPlan()">Upgrade</button>
  </div>
</ion-content>
